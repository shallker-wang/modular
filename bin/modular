#!/usr/bin/env node

/* modular command line interface */
var command = require('commander');
var Modular = require('../lib/modular');

command
  .version('0.1.0')
  .option('-w --watch', 'Watch files')
  .option('-c --compress', 'Compress javascript')
  .option('-o --output [path]', 'Output path')
  .option('-b --build [name]', 'Bundle all the modules into one file')
  .parse(process.argv);

if (command.output) {
  Modular.set('output', command.output);
}

if (command.compress) {
  Modular.set('compress', true);
}

if (command.file) {
  Modular.set('file', command.file);
}

if (command.watch) {
  Modular.set('watch', true);
}

if (command.build) {
  var name;
  name = typeof command.build === 'string' ? command.build : command.build[0];
  if (name !== undefined) {
    Modular.set('file', name);
  }
  return Modular.build()
}

command.help()
